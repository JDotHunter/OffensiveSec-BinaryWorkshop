#OffensiveSec-BinaryWorkshop


## A Basic tutorial in binary analysis/binary exploitation along with working within the Kali Linux Terminal to complete various CTF style tasks.
### This specific task is called h3 time and it's essentially a random number generator. To win, we must manipulate a seed so that it matches the randomly generated number.

* Our first task involves a function called time. To begin, we imported a file called time from https://github.com/guyinatuxedo/nightmare.git into ghidra and then viewed the source code to understand how random numbers were being generated.
* Upon insepction of the source code in Ghidra, we notice that the target number is generated by using the rand() function, a pseudo-random number generator that outputs a value within the range of 0-RAND_MAX.
* Next, we connected the remote repo to our local repos so we could push our commits to the remote repo. 
* Following the setup process, we created two files: sol.py and time.py (They can be named whatever you want them to be!)
* We copied the time challenge binary into our local repo and within sol.py, we set up a wrapper utilizing pwntools (an exploit development library written in Python) so that we can prompt the user for input and send that input as output to our screens using sendline as the input grabber and recvline as the output capturer.
* Within time.py, we had to pinpoint what the randomly generated number will be. As it turns out, rand() technically doesn't generate a random number; the output of rand() is based on a seed: a seed that we have to manipulate. Upon further inspection of the Ghidra code, we'll notice that the current time is being utilized as a seed.
* The srand() function is utilized to set the seed value for the rand() function, which is what generates the pseudo-random numbers. The seed value is used to determine what the random sequence of numbers will be. So, if we can get the seed value in time.py to sync up with the number the user generates, we'll win the challenge.
* Import ctypes so that we'll have access to C-based functions within our Python code. Then, we'll utilize the current time as our seed value, and we'll output a value and connect that value to the input that the user entered in the sol.py file.




